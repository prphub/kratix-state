# Development

## Build promise.yaml
The `promise.yaml` is generated by interpolating the contents of `resources/` into
the `workerClusterResources`.

To build run:

```
./scripts/inject-wcr
```

## Pipeline image
Export the `PIPELINE_NAME` environment variable to the name and tag of your pipeline, e.g.:

```console
export PIPELINE_NAME=dockerusername/jenkins-request-pipeline:dev
```

To build the image:
```
./scripts/pipeline-image $PIPELINE_NAME build
```

To load the image to the local kind platform cluster:
```
./scripts/pipeline-image $PIPELINE_NAME load
```

To push the image to ghcr.io:
```
./scripts/pipeline-image $PIPELINE_NAME push
```
